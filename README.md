# DBRAIN - עוזר הידע החכם לבנק דיסקונט

## תיאור הפרויקט

**DBRAIN** הוא צ'אטבוט מתקדם המבוסס על בינה מלאכותית, עם תגובות מותאמות אישית לעובדי בנק דיסקונט. המערכת מבוססת על נהלי HR מקיפים ומתמחה ב-6 נושאים עיקריים:

### ✅ 6 כפתורי FAQ מרכזיים (עודכן ליום 19.10.2025)
- **ניצול ימי חופשה** - מעקב אישי אחר זכויות וניצול + נוהל HR-205 מקיף
- **ניצול ימי מחלה** - מעקב צבירה ושימוש + נוהל HR-310 בהתאם לחוק דמי מחלה 1976
- **יתרת ארנק דיגיטלי** - 🆕 זכויות והטבות לחברי ועד עובדים + נוהל HR-420
- **המשכנתא שלי** - תנאים מיוחדים ועד 4 רמות זכאות + נוהל HR-MORTGAGE-510.20
- **עבודה מהבית** - 🆕 סטטוס זכאות ואישורים + נוהל WFH-202.15
- **מתנות ילדים** - סטטוס מתנות לפי גילאי הילדים + נוהל HR-310

**🆕 עדכון חדש:** שילוב מלא של נוהל ימי המחלה HR-310 מבוסס על חוק דמי מחלה 1976. המערכת כוללת מידע מפורט על צבירה, תשלומים, זכויות מיוחדות וימי הצהרה לכל עובד.

## טכנולוגיות

- **Backend:** Hono Framework + TypeScript
- **Frontend:** HTML + CSS + Vanilla JavaScript
- **Runtime:** Cloudflare Workers/Pages
- **Development:** Wrangler CLI + Vite

## התקנה והרצה מקומית

### דרישות מוקדמות

1. **Node.js** גרסה 18+ ([הורד כאן](https://nodejs.org))
2. **Git** ([הורד כאן](https://git-scm.com))

### שלבי ההתקנה

#### 1. שכפול הפרויקט
```bash
# אם יש לך גישה ל-Git repository
git clone <repository-url>
cd webapp

# אם הורדת כקובץ ZIP
unzip webapp.zip
cd webapp
```

#### 2. התקנת תלויות
```bash
npm install
```

#### 3. הרצה לפיתוח
```bash
# בנייה ראשונה
npm run build

# הפעלת שרת פיתוח
npm run dev
```

#### 4. פתיחה בדפדפן
פתח את הדפדפן וגש ל: `http://localhost:8788`

## Scripts זמינים

```bash
# פיתוח
npm run dev          # הפעלת שרת פיתוח עם hot-reload
npm run build        # בניית הפרויקט לproduction

# בדיקות
npm run preview      # תצוגה מקדימה של build
npm run test         # בדיקת החיבור (curl)

# פריסה (לעתיד)
npm run deploy       # פריסה לCloudflare Pages
```

## מבנה הפרויקט

```
webapp/
├── src/
│   ├── index.tsx           # קובץ הHono הראשי
│   └── renderer.tsx        # JSX renderer
├── public/
│   └── static/
│       ├── app.js          # JavaScript קדמי
│       └── style.css       # עיצוב
├── dist/                   # קבצים שנבנו (auto-generated)
├── package.json            # תלויות ו-scripts
├── vite.config.ts          # הגדרות Vite
├── wrangler.jsonc          # הגדרות Cloudflare
└── README.md              # המדריך הזה
```

## שימוש במערכת

### עמוד ראשי
- **URL:** `http://localhost:8788/`
- **משתמש ברירת מחדל:** רחל כהן (נציגת מוקד טלפוני)

### בחירת משתמש
- **URL:** `http://localhost:8788/users`
- **3 סוגי משתמשים:** מוקד טלפוני, מנהל סניף, מפתחת תוכנה

### שאלות לדוגמה

#### שאלות אישיות (עם "שלי"):
- "כמה ימי חופשה נשארו לי?"
- "כמה ימי מחלה נשארו לי?"
- "יתרת ארנק דיגיטלי שלי?" 🆕
- "המשכנתא שלי?"
- "עבודה מהבית שלי?" 🆕
- "מה סטטוס מתנות הילדים שלי?"

#### שאלות כלליות:
- "נוהל חופשות"
- "נוהל ימי מחלה"
- "נוהל ארנק דיגיטלי" 🆕
- "נוהל משכנתאות"
- "נוהל עבודה מהבית" 🆕
- "נוהל מתנות"

## נתוני דמו

### רחל כהן - נציגת מוקד טלפוני
- **חופשה:** 10/18 ימים נותרו
- **ימי מחלה:** 37/45 ימים נותרו (18 ימים צבירה שנתית)
- **ימי מחלת ילד:** 5/8 ימים נותרו (2 ילדים גיל 5,8)
- **ארנק דיגיטלי:** ₪320/500 יתרה חודשית + הטבות מוגבלות 🆕
- **עבודה מהבית:** לא מאושר (ממתין לוותק 6 חודשים) 🆕
- **ילדים:** 2 (גילאי 5,8) - זכאים למתנות
- **משכנתא:** זכאות מוגבלת (עובד שעתי)

### דוד לוי - מנהל סניף
- **חופשה:** 10/25 ימים נותרו
- **ימי מחלה:** 52/60 ימים נותרו (18 ימים צבירה שנתית) 🆕
- **ימי מחלת ילד:** 6/8 ימים נותרו (2 ילדים זכאים גיל 12,16) 🆕
- **ילדים:** 3 (גילאי 12,16,20) - 2 זכאים למתנות
- **משמרות:** שעות קבועות ניהול (44 שעות/שבוע)

### שרה גולדמן - מפתחת תוכנה
- **חופשה:** 10/22 ימים נותרו
- **ימי מחלה:** 75/85 ימים נותרו (18 ימים צבירה שנתית) 🆕
- **ימי מחלת ילד:** 3/4 ימים נותרו (1 ילד גיל 3) 🆕
- **ילדים:** 1 (גיל 3) - זכאי למתנות
- **משמרות:** גמישות ו-remote (40 שעות/שבוע)

## פתרון בעיות נפוצות

### הפורט תפוס
```bash
# Windows
netstat -ano | findstr :8788
taskkill /PID <PID_NUMBER> /F

# macOS/Linux
lsof -ti:8788 | xargs kill -9
```

### שגיאות בבנייה
```bash
# ניקוי וביטול cache
rm -rf node_modules dist .wrangler
npm install
npm run build
```

### בעיות עם wrangler
```bash
# עדכון wrangler
npm install -g wrangler@latest

# או שימוש מקומי
npx wrangler --version
```

## הרחבות עתידיות

- [ ] חיבור למאגר נתונים אמיתי (D1/KV)
- [ ] אימות משתמשים
- [ ] התראות בזמן אמת
- [ ] דוחות אנליטיקה
- [ ] תמיכה בשפות נוספות

## תמיכה

לשאלות וסיוע:
- בדוק את [תיעוד Hono](https://hono.dev)
- בדוק את [תיעוד Cloudflare Workers](https://developers.cloudflare.com/workers)

## רישיון

פרויקט פנימי - בנק דיסקונט

## URLs בסביבת הפיתוח הנוכחית
- **DBRAIN Development Server**: https://3000-i4s2x6a12yu7zyyipuy7g-6532622b.e2b.dev
- **בחירת משתמש**: https://3000-i4s2x6a12yu7zyyipuy7g-6532622b.e2b.dev/users
- **GitHub**: https://github.com/gtrxrsfyxk-source/chatbot

## 🤖 מאפייני DBRAIN
### 🎨 מיתוג ועיצוב
- **לוגו מקצועי:** עיצוב AI מתקדם עם אלמנטים של מוח ומעגלים
- **צבעים:** ירוק טכנולוגי על רקע שחור - מדגיש חדשנות ואמינות
- **טיפוגרפיה:** שילוב של עברית ואנגלית עם דגש על נקיון ובהירות
- **זהות ויזואלית:** עקביות במיתוג לאורך כל הממשק

### 🧠 יכולות בינה מלאכותית
- **תגובות מותאמות אישית:** מערכת חכמה המתאימה תשובות לכל עובד
- **זיהוי הקשר:** הבנה חכמה של שאלות ואספקת מידע רלוונטי
- **למידה מתמשכת:** מערכת המשתפרת על בסיס אינטראקציות
- **ניתוח נתונים:** עיבוד מידע מורכב מנהלי HR וחברה

## 💻 מאפיינים מתקדמים לעיצוב מחשב
### 📁 סרגל היסטוריית שיחות
- **רוחב:** 300px עם גלילה חכמה
- **כותרת:** "היסטוריית שיחות" עם כפתור שיחה חדשה
- **פריטי שיחה:** כותרת, תצוגה מקדימה, תאריך
- **שיחה פעילה:** הדגשה ויזואלית של השיחה הנוכחית
- **ניהול שיחות:** שמירה אוטומטית של כל השיחות

### 🎨 עיצוב ממשק מחשב
- **רקע גרדיאנט:** מעבר חלק מירוק עדין (#E8F5E8) לקרם (#F8F6F0)
- **פריסת עמודות:** אזור שיחה רחב + סרגל צד 300px
- **בועות שיחה:** עיצוב מודרני עם פינות עגולות וצללים עדינים
- **שדה כתיבה:** רחב 800px מקסימלי במרכז עם פלייסהולדר ברור
- **אווטארים:** עיצוב עגול פשוט עם אותיות ראשי תיבות
- **אייקונים:** Font Awesome עם צבעי בנק דיסקונט הירוקים
- **גלילה מעוצבת:** סקרול בר דק ומעוצב באזור ההודעות וההיסטוריה

### ⌨️ קיצורי דרך
- **Ctrl+N / Cmd+N:** התחלת שיחה חדשה
- **Enter:** שליחת הודעה
- **Shift+Enter:** שורה חדשה בהודעה

## מאפיינים מתקדמים - נוהל HR-205 מעודכן

### ✅ הושלמו - שילוב מערכת משכנתאות מלא!
- **🏠 נוהל משכנתאות HR-MORTGAGE-510.20:** מבוסס על נוהל רשמי שהועלה על ידי המשתמש
- **🎯 4 רמות זכאות:** זמני (לא זכאי), שעתי (מוגבל), קבוע (מלא), בכיר/טכנולוגיה (VIP)
- **💰 הטבות מותאמות אישית:** ריביות מועדפות, הלוואות נוספות, תנאים מיוחדים לכל דרגה
- **📋 תגובות אישיות מלאות:** "המשכנתא שלי" מציג נתונים מדויקים לכל עובד
- **⚡ כפתורי קישור מהיר:** נוספו למשכנתאות בעמוד הבית
- **🆕 שילוב נוהל ימי מחלה:** HR-310 גרסה 1.0 - מבוסס על נוהל רשמי ו"חוק דמי מחלה 1976"
- **🏥 צבירה והתשלומים:** 1.5 ימים לחודש, עד 90 ימים, תשלום מדורג
- **📊 נתונים אישיים מלאים:** כל עובד רואה צבירה, שימוש, היעדרויות וימי הצהרה
- **⚖️ עמידה בחוק:** הטמעה מלאה של חוק דמי מחלה הישראלי
- **🆕 עדכון לפי נוהל רשמי:** HR-205 גרסה 4.0 - מבוסס על נוהל אמיתי שהועלה
- **שילוב נוהל ארנק דיגיטלי מקיף:** HR-420 גרסה 2.1
- **זכאויות מעודכנות:** 1-5 שנות ותק = 14 ימים (במקום 18)
- **צבירה חודשית:** אפשרות ניצול יחסי של ימי החופשה
- **העברת ימים:** עד 3 שנים במקום 6 ימים
- **בהתאם לחוק:** מינימום 12 ימים לפי חוק החופשה השנתית
- **נתונים אישיים מעודכנים:** כל פרופילי המשתמשים עודכנו לפי הנוהל החדש
- **הבחנה אוטומטית:** המערכת מזהה חברי ועד vs. לא חברי ועד
- **תהליכי אישור:** זמני הגשה, הגבלות, ושימושים מאושרים

### 🔄 בתהליך
- שילוב נוהל מתנות HR-310 (מתוכנן)
- שילוב נוהל משמרות OP-150 (מתוכנן) 
- יצירת קובצי PDF לנהלים

### 📊 סטטיסטיקות מערכת
- **5 סוגי משתמשים** במערכת הדמו (שעתי, קבוע, זמני, מנהל, מפתחת)
- **6 כפתורי FAQ מרכזיים** מכוסים במלואם (צומצמו מ-18+ כפתורים) 🆕
- **5 נהלי HR מלאים:** HR-205 (חופשות) + HR-420 (ארנק דיגיטלי) + HR-310 (ימי מחלה) + HR-MORTGAGE-510.20 (משכנתאות) + WFH-202.15 (עבודה מהבית) 🆕
- **2 סוגי תשובות:** כלליות + אישיות מותאמות לכל עובד
- **100% כיסוי** לשאלות בתחומי חופשות, מחלה, ארנק דיגיטלי, משכנתאות ועבודה מהבית
- **הבחנה חכמה** בין חברי ועד ללא חברי ועד
- **🏠 מערכת משכנתאות מלאה:** 4 רמות זכאות, הטבות מותאמות, תגובות אישיות
- **🆕 מעקב מחלות מקיף:** צבירה 1.5/חודש, תשלום מדורג, ימי הצהרה

---
**עודכן לאחרונה:** 2025-10-19  
**גרסה:** 8.3.0 - DBRAIN Branding Integration with Professional Logo  
**סטטוס:** ✅ פועל עם מיתוג DBRAIN מלא + ממשק מותאם מחשב + סרגל היסטוריית שיחות + 3 כפתורי FAQ עיקריים + 5 נהלים מלאים

## 🎨 חדש בגרסה 8.3.0 - שילוב מיתוג DBRAIN המקצועי
**🆕 מיתוג מלא ומקצועי לעוזר הבינה המלאכותית:**
- **לוגו DBRAIN:** לוגו מקצועי עם עיצוב AI/טכנולוגיה באזורים מרכזיים
- **מיתוג עקבי:** החלפת כל הטקסטים למיתוג DBRAIN
- **כותרת מעודכנת:** "DBRAIN - עוזר הידע החכם" במקום טקסט כללי  
- **הודעת ברכה מעודכנת:** הצגת DBRAIN כבוט AI מתקדם
- **אווטארים מעודכנים:** "DB" במקום "בנק" באווטארים של הבוט
- **Favicon חדש:** לוגו DBRAIN בכרטיסיית הדפדפן
- **סרגל צד:** לוגו קטן ומעוצב בסרגל ההיסטוריה
- **צבעי מותג:** התאמת צבעים לכיוון הטכנולוגי והחכם

## 💻 גרסה 8.2.0 - ממשק מותאם מחשב עם היסטוריית שיחות
**עיצוב מחדש מותאם לעבודה עם מחשב:**
- **פריסת שתי עמודות:** אזור שיחה ראשי + סרגל צד עם היסטוריה
- **סרגל היסטוריית שיחות:** ניהול מלא של שיחות קודמות עם תצוגה מקדימה
- **כפתור "שיחה חדשה":** התחלת שיחה חדשה בקליק אחד
- **תצוגת שיחות קודמות:** רשימה מסודרת של כל השיחות עם תאריכים
- **ממשק רחב יותר:** מותאם לצג רחב עם ניצול מקסימלי של המסך
- **קיצורי דרך:** Ctrl+N לשיחה חדשה וניווט מהיר
- **רספונסיביות משופרת:** התאמה אוטומטית למחשב, טאבלט ומובייל
- **גלילה חכמה:** סקרול בר מעוצב באזורי השיחה וההיסטוריה

## 🎨 גרסה 8.1.0 - עיצוב מודרני חדש
**מעצב מחדש מהקצה על בסיס ממשק צ'אט מובייל:**
- **רקע גרדיאנט עדין:** מעבר חלק מירוק עדין לקרם, בהשראת העיצוב החדש
- **כפתורי פעילות מהירה:** 3 כפתורים עיקריים (חופשה, ארנק, עבודה מהבית) עם עיצוב נקי
- **בועות שיחה מחודשות:** פינות עגולות, צללים עדינים, הפרדה ויזואלית ברורה
- **שדה הכתיבה החדש:** עיצוב מודרני עם פלייסהולדר בעברית
- **אווטארים עגולים:** עיצוב פשוט ונקי לזיהוי המשתתפים בשיחה

## 🎯 גרסה 8.0.0 - צמצום כפתורי FAQ + תכונות אישיות חדשות
**עדכון מהותי בחוויית המשתמש:**
- **צמצום כפתורי FAQ:** ירידה מ-18+ כפתורים ל-6 כפתורים מרכזיים
- **יתרת ארנק דיגיטלי:** תכונה חדשה עם תגובות מותאמות אישית לכל עובד
  - יתרה חודשית + הקצאה שנתית + פירוט הוצאות לקטגוריות
  - הבחנה בין חברי ועד ללא חברי ועד עם זכויות שונות
- **עבודה מהבית:** תכונה חדשה מלאה עם נוהל WFH-202.15
  - סטטוס זכאות + ימים מאושרים + ציוד מסופק
  - סטטיסטיקות שימוש חודשיות + דרישות ותנאים
- **תגובות אישיות עמוקות:** כל תכונה חדשה מציגה נתונים שונים לכל סוג עובד

## 🏠 גרסה 7.0.0 - נוהל משכנתאות לעובדי הבנק
**שילוב מלא של נוהל מתן משכנתאות לעובדי בנק:**
- **נוהל HR-MORTGAGE-510.20:** מבוסס על הנוהל הרשמי שהועלה על ידי המשתמש
- **הטבות מותאמות אישית:** כל עובד מקבל תנאי משכנתא לפי מעמדו ההעסקתי
- **4 רמות זכאות:** עובד זמני (לא זכאי), שעתי (מוגבל), קבוע (מלא), בכיר/טכנולוגיה (VIP)
- **תגובות אישיות:** "המשכנתא שלי", "זכאות משכנתא שלי" עם פרטים מלאים

## 🆕 גרסה 6.0.0 - עדכון נתונים לשנת 2025
**🎯 עדכון מקיף של כל המערכת לתאריך הנוכחי:**
- **עדכון תאריכים:** כל הנתונים עודכנו מ-2024 לשנת 2025
- **נוהלי HR:** מספרי הנהלים והמקורות עודכנו לגרסאות 2025
- **נתוני עובדים:** תאריכי גיוס, ניצול חופשות, היסטוריית מחלות
- **משמרות ושעות נוספות:** כל הלוחות עודכנו לאוקטובר 2025
- **בסיס הידע:** כל הנושאים מעודכנים לתאריך הנוכחי (19 אוקטובר 2025)

## ✨ גרסה 5.1.0 - ימי מחלת ילד
**🆕 תמיכה מלאה בשאלות אישיות על ימי מחלת ילד:**
- **זיהוי חכם:** המערכת מבחינה בין "ימי מחלה" כללי לבין "ימי מחלת ילד" ספציפי
- **תשובות אישיות:** כל עובד מקבל מידע על הילדים שלו והזכאות הספציפיות
- **סינון לפי גיל:** רק ילדים עד גיל 16 נחשבים זכאים (מסנן אוטומטית ילדים מבוגרים)
- **מעקב מפורט:** יתרה, שימוש השנה, פירוט היעדרויות עם גילאי הילדים
- **הטבות תפקיד:** הערות מיוחדות למנהלים ועובדי טכנולוגיה

## 🔧 תיקון Git - גרסה 5.0.1
**✅ הושלם:** עדכון קבצי CSS ו-JavaScript ב-Git עם כל השיפורים האחרונים:
- **dist/static/**: הוספו קבצי הבנייה המעודכנים ל-Git
- **CSS מעודכן:** ערכת צבעים ירוקה של דיסקונט, פונטים עבריים, אנימציות
- **JavaScript מעודכן:** תמיכה בימי מחלה, שיפור חוויית משתמש, לוקליזציה עברית
- **תאימות deployment:** כעת המערכת תעבוד נכון גם כשמורידים מ-Git במחשב אחר