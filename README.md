# צ'אטבוט בנק דיסקונט - מערכת הידע הפנים-ארגונית

## תיאור הפרויקט

צ'אטבוט מתקדם עם תגובות מותאמות אישית לעובדי בנק דיסקונט, המבוסס על נהלי HR מקיפים. המערכת מתמחה ב-4 נושאים עיקריים:
- **יתרת ימי חופשה** - מעקב אישי אחר זכויות וניצול + נוהל HR-205 מקיף
- **מתנות לילדים** - סטטוס מתנות לפי גילאי הילדים + נוהל HR-310  
- **משמרות שבועיות** - לוח משמרות אישי לפי תפקיד + נוהל OP-150
- **ארנק דיגיטלי** - זכויות והטבות לחברי ועד עובדים + נוהל HR-420

**🆕 עדכון חדש:** שילוב מלא של נוהל הארנק הדיגיטלי HR-420 עם תשובות מותאמות אישית לפי סטטוס החברות בוועד העובדים. המערכת מזהה אוטומטית מי חבר ועד ומי לא, ומציגה מידע רלוונטי בהתאם.

## טכנולוגיות

- **Backend:** Hono Framework + TypeScript
- **Frontend:** HTML + CSS + Vanilla JavaScript
- **Runtime:** Cloudflare Workers/Pages
- **Development:** Wrangler CLI + Vite

## התקנה והרצה מקומית

### דרישות מוקדמות

1. **Node.js** גרסה 18+ ([הורד כאן](https://nodejs.org))
2. **Git** ([הורד כאן](https://git-scm.com))

### שלבי ההתקנה

#### 1. שכפול הפרויקט
```bash
# אם יש לך גישה ל-Git repository
git clone <repository-url>
cd webapp

# אם הורדת כקובץ ZIP
unzip webapp.zip
cd webapp
```

#### 2. התקנת תלויות
```bash
npm install
```

#### 3. הרצה לפיתוח
```bash
# בנייה ראשונה
npm run build

# הפעלת שרת פיתוח
npm run dev
```

#### 4. פתיחה בדפדפן
פתח את הדפדפן וגש ל: `http://localhost:8788`

## Scripts זמינים

```bash
# פיתוח
npm run dev          # הפעלת שרת פיתוח עם hot-reload
npm run build        # בניית הפרויקט לproduction

# בדיקות
npm run preview      # תצוגה מקדימה של build
npm run test         # בדיקת החיבור (curl)

# פריסה (לעתיד)
npm run deploy       # פריסה לCloudflare Pages
```

## מבנה הפרויקט

```
webapp/
├── src/
│   ├── index.tsx           # קובץ הHono הראשי
│   └── renderer.tsx        # JSX renderer
├── public/
│   └── static/
│       ├── app.js          # JavaScript קדמי
│       └── style.css       # עיצוב
├── dist/                   # קבצים שנבנו (auto-generated)
├── package.json            # תלויות ו-scripts
├── vite.config.ts          # הגדרות Vite
├── wrangler.jsonc          # הגדרות Cloudflare
└── README.md              # המדריך הזה
```

## שימוש במערכת

### עמוד ראשי
- **URL:** `http://localhost:8788/`
- **משתמש ברירת מחדל:** רחל כהן (נציגת מוקד טלפוני)

### בחירת משתמש
- **URL:** `http://localhost:8788/users`
- **3 סוגי משתמשים:** מוקד טלפוני, מנהל סניף, מפתחת תוכנה

### שאלות לדוגמה

#### שאלות אישיות (עם "שלי"):
- "כמה ימי חופשה נשארו לי?"
- "מה סטטוס מתנות הילדים שלי?"
- "מה המשמרות שלי השבוע?"

#### שאלות כלליות:
- "נוהל חופשות"
- "נוהל מתנות"
- "נוהל משמרות"

## נתוני דמו

### רחל כהן - נציגת מוקד טלפוני
- **חופשה:** 10/18 ימים נותרו
- **ילדים:** 2 (גילאי 5,8) - זכאים למתנות
- **משמרות:** בוקר/אחה"צ/ערב (32 שעות/שבוע)

### דוד לוי - מנהל סניף
- **חופשה:** 10/25 ימים נותרו
- **ילדים:** 3 (גילאי 12,16,20) - 2 זכאים למתנות
- **משמרות:** שעות קבועות ניהול (44 שעות/שבוע)

### שרה גולדמן - מפתחת תוכנה
- **חופשה:** 10/22 ימים נותרו
- **ילדים:** 1 (גיל 3) - זכאי למתנות
- **משמרות:** גמישות ו-remote (40 שעות/שבוע)

## פתרון בעיות נפוצות

### הפורט תפוס
```bash
# Windows
netstat -ano | findstr :8788
taskkill /PID <PID_NUMBER> /F

# macOS/Linux
lsof -ti:8788 | xargs kill -9
```

### שגיאות בבנייה
```bash
# ניקוי וביטול cache
rm -rf node_modules dist .wrangler
npm install
npm run build
```

### בעיות עם wrangler
```bash
# עדכון wrangler
npm install -g wrangler@latest

# או שימוש מקומי
npx wrangler --version
```

## הרחבות עתידיות

- [ ] חיבור למאגר נתונים אמיתי (D1/KV)
- [ ] אימות משתמשים
- [ ] התראות בזמן אמת
- [ ] דוחות אנליטיקה
- [ ] תמיכה בשפות נוספות

## תמיכה

לשאלות וסיוע:
- בדוק את [תיעוד Hono](https://hono.dev)
- בדוק את [תיעוד Cloudflare Workers](https://developers.cloudflare.com/workers)

## רישיון

פרויקט פנימי - בנק דיסקונט

## URLs בסביבת הפיתוח הנוכחית
- **Development Server**: https://3000-i4s2x6a12yu7zyyipuy7g-6532622b.e2b.dev
- **בחירת משתמש**: https://3000-i4s2x6a12yu7zyyipuy7g-6532622b.e2b.dev/users
- **GitHub**: [ממתין להגדרה]

## מאפיינים מתקדמים - נוהל HR-205

### ✅ הושלמו
- **שילוב נוהל חופשות מקיף:** HR-205 גרסה 3.2
- **שילוב נוהל ארנק דיגיטלי מקיף:** HR-420 גרסה 2.1
- **תשובות כלליות מרחיבות:** מכילות את מלוא המידע מהנהלים
- **תשובות אישיות משולבות:** מיזוג בין נתונים אישיים לנהלים
- **זכאויות לפי קטגוריות:** 5 סוגי עובדים + 4 רמות חברות ועד
- **הבחנה אוטומטית:** המערכת מזהה חברי ועד vs. לא חברי ועד
- **תהליכי אישור:** זמני הגשה, הגבלות, ושימושים מאושרים

### 🔄 בתהליך
- שילוב נוהל מתנות HR-310 (מתוכנן)
- שילוב נוהל משמרות OP-150 (מתוכנן) 
- יצירת קובצי PDF לנהלים

### 📊 סטטיסטיקות מערכת
- **3 סוגי משתמשים** במערכת הדמו
- **4 נושאי ידע עיקריים** מכוסים במלואם
- **2 סוגי תשובות:** כלליות + אישיות 
- **100% כיסוי** לשאלות בתחומי חופשות וארנק דיגיטלי
- **הבחנה חכמה** בין חברי ועד ללא חברי ועד

---
**עודכן לאחרונה:** 2024-10-16  
**גרסה:** 3.0.0 - Complete HR System with Digital Wallet  
**סטטוס:** ✅ פועל עם שילוב נוהל HR-205 + נוהל HR-420