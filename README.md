# 💚 צ'אטבוט בנק דיסקונט - דמו הוכחת יכולת

## סקירה כללית
דמו אינטראקטיבי לצ'אטבוט AI פנים-ארגוני מתקדם עבור בנק דיסקונט. המערכת מדמה סביבת עבודה בנקאית מקצועית עם עיצוב מותאם למותג דיסקונט, תמיכה מלאה בעברית, זיהוי משתמשים מותאם ותשובות מדויקות בהתאם להרשאות. **"בדיסקונט משקיעים בך!"**

## 🌐 כניסה לדמו
- **URL ציבורי**: https://3000-i4s2x6a12yu7zyyipuy7g-6532622b.e2b.dev/
- **דף בחירת משתמש**: https://3000-i4s2x6a12yu7zyyipuy7g-6532622b.e2b.dev/login

> **🎨 עדכון עיצוב חדש**: המערכת עברה לערכת צבעים ירוקה המותאמת למותג בנק דיסקונט

## ✨ תכונות מרכזיות שהושלמו

### 🏢 **מאגר ידע HR מורחב - 19 נהלים ומערכות**
- **מערכות ניהול דיגיטליות**: משמרות, זכויות, ימי מחלה
- **נתוני משפחה**: טופס 101, זכאות מתנות לילדים  
- **ניהול חופשות**: חופשה רציפה, זכאויות שנתיות
- **שעות נוספות**: חישובים מתקדמים, תעריפים משתנים
- **מעקב אישי**: יתרות אישיות, התראות וחסימות

### 🎨 עיצוב ממשק מותאם למותג דיסקונט
- **צבעי דיסקונט**: ירוק (#2E7D32), טיל (#00897B), ליים (#689F38), זהב (#FF9800)
- **פונטים מותאמים**: Heebo, Assistant, Noto Sans Hebrew עם RTL מלא
- **כפתורים מעוגלים**: גרדיאנטים בגוונים ירוקים עם אפקטי hover מתקדמים
- **לוגו ואייקונים**: לוגו רשמי של בנק דיסקונט ואלמנטים ויזואליים מקצועיים
- **רקע גרדיאנט**: מירוק לטיל לליים עדין
- **אנימציות חלקות**: מעברים וטרנזישנים מתקדמים

### 👥 סימולציית זיהוי משתמשים מתקדמת (SSO)

#### 📞 עובדי מוקד טלפוני:
- **אור ישראלי** - נציג מוקד זמני (3 חודשים, זכויות מוגבלות)
- **רחל כהן** - נציגת מוקד שעתי (8 חודשים, ללא חופשה בתשלום)  
- **מיכל אברהם** - נציגת מוקד קבועה (3 שנים, זכויות מלאות)

#### 🏢 עובדי סניפים:
- **נועה כהן** - פקידת סניף זמנית (6 חודשים, הרשאות בסיסיות)
- **דוד לוי** - מנהל סניף קבוע (7 שנים, הרשאות ניהול מלאות)

#### 💻 צוות טכנולוגיות:
- **שרה גולדמן** - מפתחת קבועה (4 שנים, הרשאות טכניות מלאות)

### 🤖 פונקציונליות צ'אטבוט חכמה ומתקדמת
- **מאגר ידע מקיף**: 19 נהלים ומערכות HR מתקדמות
- **התאמה אישית מלאה**: לפי תפקיד, סוג העסקה (קבוע/זמני/שעתי), ותק ודרגה
- **זכויות מותאמות אישית**: עובד זמני מקבל תשובה שונה מעובד קבוע באותה שאלה
- **בקרת גישה מתקדמת**: מניעת חשיפת מידע לא מורשה
- **ציטוט מקורות מקצועי**: כל תשובה עם מקורות ותאריכי עדכון
- **מטא-דטה אישי**: הצגת פרטי המשתמש (ותק, דרגה, סוג העסקה)
- **🆕 מאגר נתונים אישיים מתקדם**: מאגר נתוני עובדים מקיף עם חישובי זכאות vs. ניצול בזמן אמת
- **🆕 שאילתות נתונים אישיים**: תמיכה בשאלות כמו "כמה ימי חופשה נשארו לי?" עם חישובים אוטומטיים
- **🆕 מערכת משמרות מתקדמת**: מעקב מלא אחר משמרות עבודה (חודש אחורה וקדימה) עם חישובים בזמן אמת
- **🆕 שאילתות משמרות אישיות**: תמיכה בשאלות כמו "מה המשמרות שלי השבוע?" עם פירוט מלא

### 🔧 אינטראקטיביות מתקדמת
- **כפתורי פעולה מהירה**: שאלות נפוצות לכל תפקיד
- **מנגנון feedback**: דירוג תשובות (אגודל למעלה/למטה)
- **אינדיקטור טיפוס**: אנימציה בזמן חיפוש במאגר הידע
- **היסטוריית שיחה**: מעקב אחר השיחה הנוכחית

### 📊 מטא-דטה מקצועי
- **רמת ודאות**: אחוזי דיוק לכל תשובה
- **חותמות זמן**: זמן שליחה ועדכון אחרון
- **סיווג מקורות**: קישור למסמכים מקוריים
- **סטטוס משתמש**: הצגת מידע על המשתמש המחובר

## 🔗 נתיבי API

### משתמשים ונתיבים
- `GET /` - דף הצ'אטבוט הראשי
- `GET /login` - דף בחירת משתמש (סימולציית SSO)
- `GET /switch/:userType` - מעבר בין משתמשים
- `POST /api/chat` - API לשליחת הודעות וקבלת תשובות

### פרמטרי URL
- `?user=call_center` - נציג מוקד טלפוני
- `?user=branch` - עובד/מנהל סניף  
- `?user=tech` - מפתח תוכנה

## 🏗️ מבנה טכני

### מחסנית טכנולוגיות
- **Backend**: Hono Framework (Edge Runtime)
- **Frontend**: Vanilla JavaScript + CSS3 מתקדם
- **Styling**: CSS משתנים עם ערכת נושא דיסקונט (גרדיאנטים, אנימציות)
- **Icons**: לוגו רשמי של בנק דיסקונט + FontAwesome 6.4.0 (אייקונים פיננסיים)
- **Fonts**: Google Fonts (Heebo, Assistant, Noto Sans Hebrew)
- **HTTP Client**: Axios
- **Date/Time**: Day.js עם לוקליזציה עברית
- **Design**: מותאם למותג דיסקונט עם אלמנטי UX מתקדמים

### ארכיטקטורה
```
webapp/
├── src/
│   ├── index.tsx          # שרת Hono ראשי + מאגר נתוני עובדים
│   └── renderer.tsx       # מנוע רינדור HTML
├── public/static/
│   ├── style.css          # עיצוב בנקאי מקצועי
│   └── app.js             # לוגיקת צ'אטבוט
├── ecosystem.config.cjs   # תצורת PM2
└── wrangler.jsonc         # תצורת Cloudflare
```

### 🗄️ מאגר נתוני העובדים
המערכת כוללת מאגר נתוני עובדים מקיף עם:
- **6 פרופילי עובדים** עם נתוני HR מלאים
- **חישובי זכאות vs. ניצול** בזמן אמת
- **נתוני משפחה מפורטים** (טופס 101)
- **מעקב מתנות לילדים** לפי גיל וחגים
- **היסטוריית חופשות ומחלות** עם תאריכים
- **מעקב שעות נוספות** עם אישורי מנהל

## 💾 מבנה מאגר הידע

### תרחישים זמינים

#### נהלי בנקאות ושירות לקוחות:
1. **טיפול בעמלות** - נהלי זיכוי ללקוחות מדורגים
2. **הלוואות עסקיות** - קריטריונים ותהליכי אישור
3. **בקשות גישה IT** - תהליכי הרשאה למערכות
4. **שעות פעילות מערכות** - זמינות מערכות ותחזוקות

#### נהלי משאבי אנוש וכוח אדם:
5. **שעות עבודה רגילות** - משמרות, גמישות וזמני עבודה
6. **חופשה שנתית** - תהליכי הגשה, אישור וזכאויות
7. **דיווח מחלה** - נהלי היעדרות ואישורים רפואיים
8. **שעות נוספות** - בקשה, אישור ותשלום תגמולים
9. **זכויות הורות ולידה** - חופשת לידה, הורות ושמירת מקום
10. **פניות ותלונות HR** - ערוצי פנייה וטיפול בבעיות
11. **אישור חופשות (מנהלים)** - נהלי ניהול וקבלת החלטות
12. **עבודה מרחוק** - תנאים, ציוד ודרישות אבטחה

#### מערכות HR ומעקב נתונים:
13. **מערכת ניהול משמרות** - קובץ משמרות, נתוני עובד, חישוב שעות
14. **מערכת זכאויות וניצול** - חופשה, הבראה, ביגוד, מתנות
15. **מעקב ימי מחלה** - זכאות שנתית וכללית, ניצול בפועל
16. **טופס 101 - נתוני משפחה** - עדכון שנתי, מספר ילדים, זכויות
17. **ניצול חופשה רציפה** - תכנון ואישור חופשות ארוכות
18. **זכאות מתנות לילדים** - מתנות לפי גיל, מועדי חלוקה
19. **זכאות חודשית שעות נוספות** - תעריפים, מגבלות, חישובים

### מבנה כל רשומה
```json
{
  "id": 1,
  "category": "מוקד טלפוני",
  "question": "שאלה לדוגמה",
  "answer": "תשובה מפורטת עם הוראות",
  "sources": ["מקור 1", "מקור 2"],
  "lastUpdated": "2024-10-15",
  "accessLevel": "basic"
}
```

## 🎯 תרחישי שימוש לבדיקה

### 💼 שאלות בנקאיות ושירות:
- **שאל:** "מה הנוהל לטיפול בחיוב עמלה?"
- **תקבל:** הוראות צעד-אצעד עם מגבלות סכום וסמכויות

- **שאל:** "קריטריונים להלוואה עסקית של 500,000 שקל"  
- **תקבל:** מידע מפורט על דרישות, ווועדות ונהלי אישור

- **שאל:** "איך מבקשים גישה למערכת הליבה?"
- **תקבל:** תהליכי IT מפורטים עם טפסים והרשאות

### 👥 שאלות משאבי אנוש:
- **שאל:** "מה שעות העבודה הרגילות?"
- **תקבל:** פירוט מדויק לפי תפקידים - מטה, סניפים, מוקד

- **שאל:** "איך מגישים בקשה לחופשה שנתית?" 
- **תקבל:** תהליך מלא מהגשה ועד אישור + זכאויות לפי ותק

- **שאל:** "נוהל דיווח מחלה"
- **תקבל:** הוראות דיווח, מסמכים נדרשים וזכויות

- **שאל:** "איך מבקשים שעות נוספות?"
- **תקבל:** תהליכי אישור, מגבלות ותעריפי תשלום

- **שאל:** "זכויות הורות ולידה"  
- **תקבל:** חופשות, תשלומים ושמירת מקום עבודה

- **שאל:** "עבודה מרחוק" (רק למשתמשי IT)
- **תקבל:** תנאי זכאות, ציוד נדרש ונהלי אבטחה

### 🗂️ שאלות מערכות HR חדשות:
- **שאל:** "איך מנוהל קובץ המשמרות?"
- **תקבל:** הסבר על מערכת ניהול משמרות, נתוני עובד וחישוב שעות

- **שאל:** "מערכת זכאויות וניצול"
- **תקבל:** מידע על זכאויות חופשה, הבראה, ביגוד ומתנות

- **שאל:** "טופס 101 נתוני משפחה"
- **תקבל:** הוראות עדכון שנתי ונתוני משפחה לזכויות

- **שאל:** "זכאות מתנות לילדים"
- **תקבל:** פירוט מתנות לפי גיל, מועדי חלוקה וסטטוס מימוש

- **שאל:** "זכאות חודשית שעות נוספות"
- **תקבל:** חישובי תעריפים, מגבלות ואישורי מנהל

### 🆕 שאלות נתונים אישיים (חדש!):
- **שאל:** "כמה ימי חופשה נשארו לי?"
- **תקבל:** יתרת חופשה מדויקת: זכאות שנתית, ניצול עד כה, יתרה זמינה + פירוט חופשות שנלקחו

- **שאל:** "כמה ימי מחלה יש לי?"  
- **תקבל:** יתרת ימי מחלה: זכאות שנתית + מצטברת, ניצול השנה, יתרה זמינה + התראות

- **שאל:** "מצב המתנות שלי לילדים"
- **תקבל:** סטטוס מתנות אישי: מספר ילדים זכאים, גילאים, וסטטוס מתנות 2024 (נמסר/ממתין)

- **שאל:** "הטופס 101 שלי"
- **תקבל:** נתוני משפחה אישיים: סטטוס משפחתי, מספר ילדים, גילאים, זכאויות נגזרות + התראות עדכון

- **שאל:** "מצב השעות הנוספות שלי"
- **תקבל:** מעקב שעות נוספות אישי: שעות החודש, מכסה חודשית, יתרה + פירוט שעות ואישורים

### 🆕 שאלות משמרות אישיות (חדש!):
- **שאל:** "מה המשמרות שלי השבוע?"
- **תקבל:** לוח משמרות שבועי מלא: תאריכים, שעות, סוגי משמרות + סטטיסטיקות (סה"כ שעות, ימי עבודה/חופש)

- **שאל:** "המשמרת שלי היום"  
- **תקבל:** פרטי המשמרת של היום: זמני התחלה/סיום, סוג משמרת, סטטוס נוכחי + התראות

- **שאל:** "המשמרות שלי החודש"
- **תקבל:** סקירה חודשית מלאה: סה"כ שעות, פילוח משמרות בוקר/ערב/לילה, ימי חג והכשרות + סטטיסטיקות

- **שאל:** (עובד ללא משמרות) "מה המשמרות שלי השבוע?"  
- **תקבל:** הסבר על עבודה בשעות קבועות: אין מערכת משמרות, שעות עבודה רגילות, הבדלים בין תפקידים

### 🔐 בדיקת הרשאות ותאמה אישית:

**בדיקת הרשאות:**
- נסה לשאול שאלת IT כנציג מוקד → הודעה על חוסר הרשאה

**התאמה אישית לסוג העסקה:**
- עובד זמני שואל "חופשה שנתית" → "אין זכאות בחודשים הראשונים"
- עובד קבוע שואל "חופשה שנתית" → "18 ימי חופשה + יום יומולדת"
- עובד שעתי שואל "דיווח מחלה" → "אין זכאות לימי מחלה בתשלום"
- מנהל בכיר שואל "שעות נוספות" → "פטור משעות נוספות, זכאי להפגה"

**כל תשובה כוללת חלק אישי מותאם למשתמש הספציפי!**

## 🔒 אבטחה ובקרת גישה

### רמות הרשאה
- **basic**: מידע כללי וגישה לנהלי לקוחות
- **branch**: מידע על מוצרים ואשראי  
- **tech**: מידע טכני ומערכות פנימיות

### אמצעי בטיחות
- בדיקת הרשאות לכל שאילתה
- מניעת חשיפת מידע רגיש
- הודעות שגיאה מותאמות
- לוגים מפורטים (בתכנון)

## 📈 מדדי ביצועים נמדדים

### מדדים טכניים
- ⚡ זמן תגובה ממוצע: < 3 שניות
- 🎯 דיוק תשובות: 95%+ (עם מקורות מאושרים)
- 🔐 אבטחה: בקרת גישה לפי תפקידים
- 📱 רספונסיביות: תמיכה מלאה במובייל

### מדדים חוויתיים  
- 🇮🇱 תמיכה מלאה בעברית (RTL)
- 🎨 עיצוב מקצועי ונגיש
- ⚡ ממשק אינטואיטיבי ומהיר
- 📊 משוב בזמן אמת למשתמש

## 🚀 הרצה מקומית

### דרישות מוקדמות
```bash
Node.js 18+
npm או yarn
```

### התקנה והרצה
```bash
git clone [repository-url]
cd webapp
npm install
npm run build
npm run preview  # או עם PM2: pm2 start ecosystem.config.cjs
```

### סביבת פיתוח
```bash
npm run dev  # שרת פיתוח עם hot reload
```

## 🔮 תכונות עתידיות מתוכננות

### שכבה טכנית
- [ ] אינטגרציה עם OpenAI/Claude API
- [ ] מנוע חיפוש וקטורי (RAG) 
- [ ] מסד נתונים אמיתי (D1/PostgreSQL)
- [ ] אותנטיקציה אמיתית (SSO/SAML)

### תכונות משתמש
- [ ] דשבורד מנהלים עם אנליטיקה
- [ ] ייצוא שיחות ל-PDF
- [ ] התראות על עדכוני מדיניות
- [ ] צ'אט בוט קולי (Speech-to-Text)

### אינטגרציות ארגוניות
- [ ] Microsoft Teams Bot
- [ ] SharePoint כמאגר ידע
- [ ] ServiceNow לפתיחת קריאות
- [ ] Active Directory למשתמשים

## 📞 תמיכה ופיתוח

### נוצר על ידי
מערכת הוכחת יכולת עבור צ'אטבוט AI בנק ישראל

### סטטוס פרויקט  
✅ **פעיל** - דמו מוכן לבדיקה ומצגת

### עדכון אחרון
6 אוקטובר 2025 - הוספת מערכת משמרות מתקדמת: מעקב שבועי/חודשי עם 3 חודשי נתונים (ספטמבר-נובמבר 2024)

---

## 🎯 המלצות לשלבים הבאים

### שלב א' - הרחבת מאגר הידע
1. הוספת 50+ תרחישים נוספים
2. חיבור למערכות ה-CRM/ERP הקיימות  
3. אוטומציה לעדכון תוכן

### שלב ב' - שיפורים טכניים
1. מעבר למנוע AI אמיתי (GPT-4/Claude)
2. מימוש RAG עם חיפוש סמנטי
3. תמיכה בקבצים (PDF/Word/Excel)

### שלב ג' - אינטגרציה ארגונית
1. חיבור ל-Active Directory
2. אינטגרציה עם Teams/Slack
3. דשבורד ניהול וביקורת

**🎉 הדמו מוכן לצפייה ובדיקה!**